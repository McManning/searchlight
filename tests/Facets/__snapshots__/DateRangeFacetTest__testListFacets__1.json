{
    "data": {
        "results": {
            "facets": [
                {
                    "identifier": "type",
                    "label": "Type",
                    "type": "RefinementSelectFacet",
                    "display": "ListFacet",
                    "entries": [
                        {
                            "label": "movie",
                            "count": 12
                        }
                    ]
                },
                {
                    "identifier": "rated",
                    "label": "Rated",
                    "type": "RefinementSelectFacet",
                    "display": "ListFacet",
                    "entries": [
                        {
                            "label": "G",
                            "count": 1
                        },
                        {
                            "label": "PG",
                            "count": 2
                        },
                        {
                            "label": "PG-13",
                            "count": 1
                        },
                        {
                            "label": "R",
                            "count": 7
                        },
                        {
                            "label": "Unrated",
                            "count": 1
                        }
                    ]
                },
                {
                    "identifier": "genres",
                    "label": "Genres",
                    "type": "RefinementSelectFacet",
                    "display": "ListFacet",
                    "entries": [
                        {
                            "label": "Action",
                            "count": 4
                        },
                        {
                            "label": "Adventure",
                            "count": 2
                        },
                        {
                            "label": "Animation",
                            "count": 2
                        },
                        {
                            "label": "Biography",
                            "count": 2
                        },
                        {
                            "label": "Comedy",
                            "count": 2
                        }
                    ]
                },
                {
                    "identifier": "directors",
                    "label": "Director",
                    "type": "RefinementSelectFacet",
                    "display": "ListFacet",
                    "entries": [
                        {
                            "label": "Ang Lee",
                            "count": 1
                        },
                        {
                            "label": "Bryan Singer",
                            "count": 1
                        },
                        {
                            "label": "David Fincher",
                            "count": 1
                        },
                        {
                            "label": "John Lasseter",
                            "count": 1
                        },
                        {
                            "label": "John McTiernan",
                            "count": 1
                        }
                    ]
                },
                {
                    "identifier": "writers",
                    "label": "Writer",
                    "type": "RefinementSelectFacet",
                    "display": "ListFacet",
                    "entries": [
                        {
                            "label": "Al Reinert",
                            "count": 1
                        },
                        {
                            "label": "Alec Sokolow",
                            "count": 1
                        },
                        {
                            "label": "Andrew Kevin Walker",
                            "count": 1
                        },
                        {
                            "label": "Andrew Stanton",
                            "count": 1
                        },
                        {
                            "label": "Bob Baker",
                            "count": 1
                        }
                    ]
                },
                {
                    "identifier": "actors",
                    "label": "Actor",
                    "type": "RefinementSelectFacet",
                    "display": "ListFacet",
                    "entries": [
                        {
                            "label": "Al Pacino",
                            "count": 1
                        },
                        {
                            "label": "Andrea Eckert",
                            "count": 1
                        },
                        {
                            "label": "Andrew Kevin Walker",
                            "count": 1
                        },
                        {
                            "label": "Anne Reid",
                            "count": 1
                        },
                        {
                            "label": "Benicio Del Toro",
                            "count": 1
                        }
                    ]
                },
                {
                    "identifier": "countries",
                    "label": "Country",
                    "type": "RefinementSelectFacet",
                    "display": "ListFacet",
                    "entries": [
                        {
                            "label": "Austria",
                            "count": 1
                        },
                        {
                            "label": "France",
                            "count": 1
                        },
                        {
                            "label": "Germany",
                            "count": 1
                        },
                        {
                            "label": "Switzerland",
                            "count": 1
                        },
                        {
                            "label": "UK",
                            "count": 3
                        }
                    ]
                },
                {
                    "identifier": "imdbrating",
                    "label": "IMDb Rating",
                    "type": "RangeFacet",
                    "display": "RangeSliderFacet",
                    "entries": [
                        {
                            "label": "0",
                            "count": 0
                        },
                        {
                            "label": "1",
                            "count": 0
                        },
                        {
                            "label": "2",
                            "count": 0
                        },
                        {
                            "label": "3",
                            "count": 0
                        },
                        {
                            "label": "4",
                            "count": 0
                        },
                        {
                            "label": "5",
                            "count": 0
                        },
                        {
                            "label": "6",
                            "count": 0
                        },
                        {
                            "label": "7",
                            "count": 4
                        },
                        {
                            "label": "8",
                            "count": 8
                        },
                        {
                            "label": "9",
                            "count": 0
                        },
                        {
                            "label": "10",
                            "count": 0
                        }
                    ]
                },
                {
                    "identifier": "metascore",
                    "label": "Metascore",
                    "type": "RangeFacet",
                    "display": "RangeSliderFacet",
                    "entries": [
                        {
                            "label": "0",
                            "count": 0
                        },
                        {
                            "label": "5",
                            "count": 0
                        },
                        {
                            "label": "10",
                            "count": 0
                        },
                        {
                            "label": "15",
                            "count": 0
                        },
                        {
                            "label": "20",
                            "count": 0
                        },
                        {
                            "label": "25",
                            "count": 0
                        },
                        {
                            "label": "30",
                            "count": 0
                        },
                        {
                            "label": "35",
                            "count": 0
                        },
                        {
                            "label": "40",
                            "count": 0
                        },
                        {
                            "label": "45",
                            "count": 0
                        },
                        {
                            "label": "50",
                            "count": 0
                        },
                        {
                            "label": "55",
                            "count": 1
                        },
                        {
                            "label": "60",
                            "count": 0
                        },
                        {
                            "label": "65",
                            "count": 3
                        },
                        {
                            "label": "70",
                            "count": 1
                        },
                        {
                            "label": "75",
                            "count": 4
                        },
                        {
                            "label": "80",
                            "count": 1
                        },
                        {
                            "label": "85",
                            "count": 0
                        },
                        {
                            "label": "90",
                            "count": 1
                        },
                        {
                            "label": "95",
                            "count": 0
                        },
                        {
                            "label": "100",
                            "count": 0
                        }
                    ]
                },
                {
                    "identifier": "genre",
                    "label": "Genre",
                    "type": "HierarchicalMenuFacet",
                    "display": "HierarchicalMenu",
                    "entries": [
                        {
                            "label": "Action",
                            "count": 4
                        },
                        {
                            "label": "Adventure",
                            "count": 1
                        },
                        {
                            "label": "Animation",
                            "count": 2
                        },
                        {
                            "label": "Biography",
                            "count": 1
                        },
                        {
                            "label": "Crime",
                            "count": 2
                        }
                    ]
                }
            ]
        }
    },
    "extensions": {
        "searchlight_inspection": {
            "version": 1,
            "took": 1,
            "trips": [
                {
                    "query": {
                        "size": 0,
                        "from": 0,
                        "_source": {
                            "includes": [
                                "type",
                                "title",
                                "year",
                                "rated",
                                "released",
                                "genres",
                                "directors",
                                "writers",
                                "actors",
                                "countries",
                                "plot",
                                "poster",
                                "id",
                                "metascore",
                                "imdbrating",
                                "primary_genre1",
                                "primary_genre2",
                                "primary_genre3"
                            ]
                        },
                        "highlight": {
                            "fields": {
                                "title": [],
                                "genres": [],
                                "directors": [],
                                "writers": [],
                                "actors": [],
                                "countries": [],
                                "plot": []
                            }
                        },
                        "aggs": {
                            "facet_bucket_all": {
                                "aggs": {
                                    "rated": {
                                        "terms": {
                                            "field": "rated",
                                            "size": 5,
                                            "order": {
                                                "_key": "asc"
                                            }
                                        }
                                    },
                                    "directors": {
                                        "terms": {
                                            "field": "directors.keyword",
                                            "size": 5,
                                            "order": {
                                                "_key": "asc"
                                            }
                                        }
                                    },
                                    "writers": {
                                        "terms": {
                                            "field": "writers.keyword",
                                            "size": 5,
                                            "order": {
                                                "_key": "asc"
                                            }
                                        }
                                    },
                                    "actors": {
                                        "terms": {
                                            "field": "actors.keyword",
                                            "size": 5,
                                            "order": {
                                                "_key": "asc"
                                            }
                                        }
                                    },
                                    "countries": {
                                        "terms": {
                                            "field": "countries.keyword",
                                            "size": 5,
                                            "order": {
                                                "_key": "asc"
                                            }
                                        }
                                    },
                                    "imdbrating": {
                                        "histogram": {
                                            "field": "imdbrating",
                                            "interval": 1,
                                            "min_doc_count": 0,
                                            "extended_bounds": {
                                                "min": 0,
                                                "max": 10
                                            }
                                        }
                                    },
                                    "metascore": {
                                        "histogram": {
                                            "field": "metascore",
                                            "interval": 5,
                                            "min_doc_count": 0,
                                            "extended_bounds": {
                                                "min": 0,
                                                "max": 100
                                            }
                                        }
                                    }
                                },
                                "filter": {
                                    "bool": {
                                        "must": [
                                            {
                                                "range": {
                                                    "released": {
                                                        "gte": "1995-01-01T00:00:00+00:00",
                                                        "lte": "1996-01-01T00:00:00+00:00"
                                                    }
                                                }
                                            }
                                        ]
                                    }
                                }
                            },
                            "facet_bucket_type": {
                                "aggs": {
                                    "type": {
                                        "terms": {
                                            "field": "type",
                                            "size": 5,
                                            "order": {
                                                "_key": "asc"
                                            }
                                        }
                                    }
                                },
                                "filter": {
                                    "bool": {
                                        "must": [
                                            {
                                                "range": {
                                                    "released": {
                                                        "gte": "1995-01-01T00:00:00+00:00",
                                                        "lte": "1996-01-01T00:00:00+00:00"
                                                    }
                                                }
                                            }
                                        ]
                                    }
                                }
                            },
                            "facet_bucket_genres": {
                                "aggs": {
                                    "genres": {
                                        "terms": {
                                            "field": "genres.keyword",
                                            "size": 5,
                                            "order": {
                                                "_key": "asc"
                                            }
                                        }
                                    }
                                },
                                "filter": {
                                    "bool": {
                                        "must": [
                                            {
                                                "range": {
                                                    "released": {
                                                        "gte": "1995-01-01T00:00:00+00:00",
                                                        "lte": "1996-01-01T00:00:00+00:00"
                                                    }
                                                }
                                            }
                                        ]
                                    }
                                }
                            },
                            "facet_bucket_genre": {
                                "aggs": {
                                    "genre": {
                                        "filter": {
                                            "match_all": []
                                        },
                                        "aggs": {
                                            "lvl_1": {
                                                "filter": {
                                                    "match_all": []
                                                },
                                                "aggs": {
                                                    "aggs": {
                                                        "terms": {
                                                            "field": "primary_genre1.keyword",
                                                            "size": 5,
                                                            "order": {
                                                                "_key": "asc"
                                                            }
                                                        },
                                                        "meta": {
                                                            "parent": null
                                                        }
                                                    }
                                                }
                                            },
                                            "lvl_2": {
                                                "filter": {
                                                    "match_all": []
                                                },
                                                "aggs": {
                                                    "aggs": {
                                                        "terms": {
                                                            "field": "primary_genre2.keyword",
                                                            "size": 5,
                                                            "order": {
                                                                "_key": "asc"
                                                            }
                                                        },
                                                        "meta": {
                                                            "parent": null
                                                        }
                                                    }
                                                }
                                            },
                                            "lvl_3": {
                                                "filter": {
                                                    "match_all": []
                                                },
                                                "aggs": {
                                                    "aggs": {
                                                        "terms": {
                                                            "field": "primary_genre3.keyword",
                                                            "size": 5,
                                                            "order": {
                                                                "_key": "asc"
                                                            }
                                                        },
                                                        "meta": {
                                                            "parent": null
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "filter": {
                                    "bool": {
                                        "must": [
                                            {
                                                "range": {
                                                    "released": {
                                                        "gte": "1995-01-01T00:00:00+00:00",
                                                        "lte": "1996-01-01T00:00:00+00:00"
                                                    }
                                                }
                                            }
                                        ]
                                    }
                                }
                            }
                        },
                        "query": {
                            "bool": {
                                "filter": []
                            }
                        },
                        "post_filter": {
                            "bool": {
                                "must": [
                                    {
                                        "range": {
                                            "released": {
                                                "gte": "1995-01-01T00:00:00+00:00",
                                                "lte": "1996-01-01T00:00:00+00:00"
                                            }
                                        }
                                    }
                                ]
                            }
                        }
                    },
                    "response": {
                        "took": 1,
                        "timed_out": false,
                        "_shards": {
                            "total": 1,
                            "successful": 1,
                            "skipped": 0,
                            "failed": 0
                        },
                        "hits": {
                            "total": {
                                "value": 12,
                                "relation": "eq"
                            },
                            "max_score": null,
                            "hits": []
                        },
                        "aggregations": {
                            "facet_bucket_type": {
                                "doc_count": 12,
                                "type": {
                                    "doc_count_error_upper_bound": 0,
                                    "sum_other_doc_count": 0,
                                    "buckets": [
                                        {
                                            "key": "movie",
                                            "doc_count": 12
                                        }
                                    ]
                                }
                            },
                            "facet_bucket_all": {
                                "doc_count": 12,
                                "rated": {
                                    "doc_count_error_upper_bound": 0,
                                    "sum_other_doc_count": 0,
                                    "buckets": [
                                        {
                                            "key": "G",
                                            "doc_count": 1
                                        },
                                        {
                                            "key": "PG",
                                            "doc_count": 2
                                        },
                                        {
                                            "key": "PG-13",
                                            "doc_count": 1
                                        },
                                        {
                                            "key": "R",
                                            "doc_count": 7
                                        },
                                        {
                                            "key": "Unrated",
                                            "doc_count": 1
                                        }
                                    ]
                                },
                                "actors": {
                                    "doc_count_error_upper_bound": 0,
                                    "sum_other_doc_count": 41,
                                    "buckets": [
                                        {
                                            "key": "Al Pacino",
                                            "doc_count": 1
                                        },
                                        {
                                            "key": "Andrea Eckert",
                                            "doc_count": 1
                                        },
                                        {
                                            "key": "Andrew Kevin Walker",
                                            "doc_count": 1
                                        },
                                        {
                                            "key": "Anne Reid",
                                            "doc_count": 1
                                        },
                                        {
                                            "key": "Benicio Del Toro",
                                            "doc_count": 1
                                        }
                                    ]
                                },
                                "directors": {
                                    "doc_count_error_upper_bound": 0,
                                    "sum_other_doc_count": 7,
                                    "buckets": [
                                        {
                                            "key": "Ang Lee",
                                            "doc_count": 1
                                        },
                                        {
                                            "key": "Bryan Singer",
                                            "doc_count": 1
                                        },
                                        {
                                            "key": "David Fincher",
                                            "doc_count": 1
                                        },
                                        {
                                            "key": "John Lasseter",
                                            "doc_count": 1
                                        },
                                        {
                                            "key": "John McTiernan",
                                            "doc_count": 1
                                        }
                                    ]
                                },
                                "metascore": {
                                    "buckets": [
                                        {
                                            "key": 0,
                                            "doc_count": 0
                                        },
                                        {
                                            "key": 5,
                                            "doc_count": 0
                                        },
                                        {
                                            "key": 10,
                                            "doc_count": 0
                                        },
                                        {
                                            "key": 15,
                                            "doc_count": 0
                                        },
                                        {
                                            "key": 20,
                                            "doc_count": 0
                                        },
                                        {
                                            "key": 25,
                                            "doc_count": 0
                                        },
                                        {
                                            "key": 30,
                                            "doc_count": 0
                                        },
                                        {
                                            "key": 35,
                                            "doc_count": 0
                                        },
                                        {
                                            "key": 40,
                                            "doc_count": 0
                                        },
                                        {
                                            "key": 45,
                                            "doc_count": 0
                                        },
                                        {
                                            "key": 50,
                                            "doc_count": 0
                                        },
                                        {
                                            "key": 55,
                                            "doc_count": 1
                                        },
                                        {
                                            "key": 60,
                                            "doc_count": 0
                                        },
                                        {
                                            "key": 65,
                                            "doc_count": 3
                                        },
                                        {
                                            "key": 70,
                                            "doc_count": 1
                                        },
                                        {
                                            "key": 75,
                                            "doc_count": 4
                                        },
                                        {
                                            "key": 80,
                                            "doc_count": 1
                                        },
                                        {
                                            "key": 85,
                                            "doc_count": 0
                                        },
                                        {
                                            "key": 90,
                                            "doc_count": 1
                                        },
                                        {
                                            "key": 95,
                                            "doc_count": 0
                                        },
                                        {
                                            "key": 100,
                                            "doc_count": 0
                                        }
                                    ]
                                },
                                "countries": {
                                    "doc_count_error_upper_bound": 0,
                                    "sum_other_doc_count": 11,
                                    "buckets": [
                                        {
                                            "key": "Austria",
                                            "doc_count": 1
                                        },
                                        {
                                            "key": "France",
                                            "doc_count": 1
                                        },
                                        {
                                            "key": "Germany",
                                            "doc_count": 1
                                        },
                                        {
                                            "key": "Switzerland",
                                            "doc_count": 1
                                        },
                                        {
                                            "key": "UK",
                                            "doc_count": 3
                                        }
                                    ]
                                },
                                "writers": {
                                    "doc_count_error_upper_bound": 0,
                                    "sum_other_doc_count": 24,
                                    "buckets": [
                                        {
                                            "key": "Al Reinert",
                                            "doc_count": 1
                                        },
                                        {
                                            "key": "Alec Sokolow",
                                            "doc_count": 1
                                        },
                                        {
                                            "key": "Andrew Kevin Walker",
                                            "doc_count": 1
                                        },
                                        {
                                            "key": "Andrew Stanton",
                                            "doc_count": 1
                                        },
                                        {
                                            "key": "Bob Baker",
                                            "doc_count": 1
                                        }
                                    ]
                                },
                                "imdbrating": {
                                    "buckets": [
                                        {
                                            "key": 0,
                                            "doc_count": 0
                                        },
                                        {
                                            "key": 1,
                                            "doc_count": 0
                                        },
                                        {
                                            "key": 2,
                                            "doc_count": 0
                                        },
                                        {
                                            "key": 3,
                                            "doc_count": 0
                                        },
                                        {
                                            "key": 4,
                                            "doc_count": 0
                                        },
                                        {
                                            "key": 5,
                                            "doc_count": 0
                                        },
                                        {
                                            "key": 6,
                                            "doc_count": 0
                                        },
                                        {
                                            "key": 7,
                                            "doc_count": 4
                                        },
                                        {
                                            "key": 8,
                                            "doc_count": 8
                                        },
                                        {
                                            "key": 9,
                                            "doc_count": 0
                                        },
                                        {
                                            "key": 10,
                                            "doc_count": 0
                                        }
                                    ]
                                }
                            },
                            "facet_bucket_genres": {
                                "doc_count": 12,
                                "genres": {
                                    "doc_count_error_upper_bound": 0,
                                    "sum_other_doc_count": 22,
                                    "buckets": [
                                        {
                                            "key": "Action",
                                            "doc_count": 4
                                        },
                                        {
                                            "key": "Adventure",
                                            "doc_count": 2
                                        },
                                        {
                                            "key": "Animation",
                                            "doc_count": 2
                                        },
                                        {
                                            "key": "Biography",
                                            "doc_count": 2
                                        },
                                        {
                                            "key": "Comedy",
                                            "doc_count": 2
                                        }
                                    ]
                                }
                            },
                            "facet_bucket_genre": {
                                "doc_count": 12,
                                "genre": {
                                    "doc_count": 12,
                                    "lvl_2": {
                                        "doc_count": 12,
                                        "aggs": {
                                            "meta": {
                                                "parent": null
                                            },
                                            "doc_count_error_upper_bound": 0,
                                            "sum_other_doc_count": 13,
                                            "buckets": [
                                                {
                                                    "key": "british",
                                                    "doc_count": 1
                                                },
                                                {
                                                    "key": "cg",
                                                    "doc_count": 1
                                                },
                                                {
                                                    "key": "cgi",
                                                    "doc_count": 1
                                                },
                                                {
                                                    "key": "computer",
                                                    "doc_count": 1
                                                },
                                                {
                                                    "key": "costume",
                                                    "doc_count": 1
                                                }
                                            ]
                                        }
                                    },
                                    "lvl_1": {
                                        "doc_count": 12,
                                        "aggs": {
                                            "meta": {
                                                "parent": null
                                            },
                                            "doc_count_error_upper_bound": 0,
                                            "sum_other_doc_count": 2,
                                            "buckets": [
                                                {
                                                    "key": "Action",
                                                    "doc_count": 4
                                                },
                                                {
                                                    "key": "Adventure",
                                                    "doc_count": 1
                                                },
                                                {
                                                    "key": "Animation",
                                                    "doc_count": 2
                                                },
                                                {
                                                    "key": "Biography",
                                                    "doc_count": 1
                                                },
                                                {
                                                    "key": "Crime",
                                                    "doc_count": 2
                                                }
                                            ]
                                        }
                                    },
                                    "lvl_3": {
                                        "doc_count": 12,
                                        "aggs": {
                                            "meta": {
                                                "parent": null
                                            },
                                            "doc_count_error_upper_bound": 0,
                                            "sum_other_doc_count": 0,
                                            "buckets": []
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            ]
        }
    }
}
